# フロントエンドロードマップ

## HTML

### 最低ライン

#### タグの要素をある程度理解し、使いこなせるようにする

- メタデータ系+スクリプト
  - html, head, body, link, meta, style, title, script
- セクショニング
  - header, footer, main, nav, article, section, aside, h1~6
  - なぜ div ではなくこれらを使う必要があるのか知る
- テキストコンテンツ
  - div, hr, ul, li, p
- インライン
  - a, br, span, small
- マルチメディア
  - img, video
- 埋め込みコンテンツ
  - iframe, picture, source
- テーブル
  - table, thead, tbody, tfoot, col, tr, th, td
- フォーム
  - form, button, label, input, textarea, select, option

#### タグの属性を理解する

- グローバル属性
  - id, class, style, data-\*, hidden,
- タグ固有の属性
  - a タグに href があるように、固有の属性があることを知る。
  - 勝手に覚えていくので無理して暗記する必要はない。

## CSS

### 最低ライン

#### プロパティとそれぞれの取りうる値を知る

取りうる値は必要になったものを自然と覚えていくので暗記する必要はない。

- レイアウト
  - display, (max,min)width, (max,min)height, margin, padding, border, outline
- フォント
  - font-weight, font-size, font-family
- テキスト
  - line-height, text-align, vertical-align, text-decoration, white-space, letter-spacing, word-break, text-shadow
- 文字色・背景
  - color, background-color, background-image, background-position, background-repeat,
    background-size, opacity
- 表示・配置
  - overflow, position, display, z-index, visibility
- フレックス
  - flex, flex-direction, justify-content, align-items, align-self
  - 特に重要で Flexbox でレイアウトを組み立てられるようになる必要がある
- その他
  - box-sizing, list-style, cursor, object-fit, object-position

#### セレクタについて知る

- 基本
  - タイプセレクター(div, span など)
  - クラスセレクター(.classname)
  - ID セレクター(#idname)
  - ユニバーサルセレクター(\*)
- 属性セレクター
  - [attr], [attr=value], [attr~=value], [attr|=value], [attr^=value], [attr$=value], [attr*=value]
- 部分文字列一致セレクター
- 擬似表記
  - 擬似クラス
    - :hover, :not, :nth-child, :nth-of-type
  - 擬似要素
    - ::after, ::before
- 結合子
  - 子孫結合子(A B)
  - 子結合子(A > B)
  - 隣接兄弟結合子(A + B)
  - 一般兄弟結合子(A ~ B)

#### ボックスモデルの理解

- width, height, padding, margin, border の理解
- インライン・ブロック違いを知る
  - 改行されるかどうか
  - width, height の挙動
  - padding, margin, border の挙動
- box-sizing プロパティについて知る
  - なぜ全要素に border-box を適用させるのか

#### カスケード・詳細度・継承

- カスケードとは何か概要を掴む
- 詳細度のスコアリングについて学ぶ
- 継承とはどういうものか学ぶ
- !important をあまり使ってはいけない理由を知る

#### レスポンシブ

- viewport を理解する
- メディアクエリを理解する
  - メディアタイプとは何か学ぶ
  - メディア特性について学ぶ
- モバイルファーストで書けるようにする

## HTML・CSS 実践

### 最低ライン

#### Chrome DevTools の「Elements」タブを使えるようにする

- 要素を選択し、削除したり、コピーができる
- 「Styles」で CSS プロパティを変更しながら見た目の調整ができる

#### よくあるレイアウトを作れるようになる

- 聖杯レイアウト
- サイドバーレイアウト
- タブメニュー
- ハンバーガー（ドロワー）メニュー
- ボトムナビゲーション
- モーダル（ポップアップ）

#### 実際に書く

- 複数のサイトを参考に、実際にソックリな見た目を作れるようになる
  - デザイン重視の LP よりも、よく使われる Web アプリケーションを模倣する
  - アニメーションはそこまで使われていないサービスが良い
  - しっかりレスポンシブの見た目まで模倣できるようにする

## JavaScript

### 最低ライン

#### ECMAScript について知る

- ECMAScript は JavaScript の標準仕様
  - どの実行環境でも共通な動作を定義
- JavaScript の「言語」を学ぶときは主に下記 3 つを学ぶことと同義
  1. ECMAScript を学ぶ（基本構文）
  1. ブラウザの環境下で使えるオブジェクトを学ぶ
  1. Node.js の環境下で使えるオブジェクトを学ぶ（Node.js を学ぶのは後々で良い）
- ECMAScript は毎年新機能が追加される
  - その年の新機能は ES + 年号で定義される。ES2021 など
  - 当初は ES1, ES2, ...という命名だったが 2015 年から ES+年号になった
  - ES2015 で言語仕様がガラッと変わり、大きく進化した

#### 基本構文

- let, const（もう var を使うことはない）
- 文字列
  - テンプレートリテラル
  - 文字列結合(+)
  - 分解(split)
  - すべて覚える必要は無いが、length や split など色んなプロパティやメソッドがあることを知る（「どう
    実現するんだろう」ってなって調べて覚える）
- 数値
  - 演算子を使った計算ができるようにする（四則演算、++、--、大小比較など）
  - Math のメソッドで数値を操作できることを知る（数値を整数にするなど）
- 真偽値, undefined, null などのデータ型があることを知る
  - Falsy な値・Truty な値とは何かを知る
  - 条件分岐で実行される条件、されない条件の書き方をある程度知る（&&, ||, !, <=, ===などの論理演算子
    や比較演算子）
- 条件分岐
  - if, else, else if
  - switch, break
  - 三項演算子を用いた条件分岐を学ぶ
- 配列
  - 配列に追加したり、削除したり、アクセスするための方法を知る
  - 色んな繰り返し処理がある
    - forEach, map, filter は絶対に使えるようにする
    - 上記以外の例えば find, some, every などは必要になってから調べるでいい
  - 他にもすべて覚える必要は無いが、length や slice, includes など色んなプロパティやメソッドがあるこ
    とを知る（「どう実現するんだろう」ってなって調べて覚える）
- オブジェクト
  - 作成方法や、キー、値などの基本を学ぶ
  - ドット記法とブラケット記法でアクセスできる
    - 基本的にはドット記法、どうしても書けない場合はブラケット記法を使う
  - プロパティの追加や削除ができるようにする
- 配列とオブジェクト
  - 配列とオブジェクト、それぞれの分割代入の書き方を学ぶ
    - React などでもよく使われる書き方のため
  - ミュータブル・イミュータブルとは何か知る
    - 破壊的なメソッドはなるべく使わない
    - 非破壊的なメソッドで実現するように心がける
    - 例えば sort は破壊的なメソッドだが、スプレッド構文と組み合わせて非破壊的に使うことができる
      - スプレッド構文を使えるようにする
- 関数
  - 基本的な使い方を学ぶ
    - 関数宣言の書き方を学ぶ（function）
  - 引数について学ぶ
    - デフォルト引数を使えるようにする
    - Rest parameters の使えるようにする
    - 分割代入を使えるようにする
  - 関数式の書き方を学ぶ
  - アロー関数の書き方を学ぶ
    - 基本はアロー関数を使う
    - 現場では関数宣言で書かれることも多いことだけ注意
  - コールバック関数について学ぶ

#### ブラウザの環境下で使えるオブジェクト

- Window オブジェクト
  - すべて覚える必要は無いが、console や alert, localStorage など色んなプロパティやメソッドがあること
    を知る（必要になってから調べて覚えるで OK）
- DOM
  - DOM とは何かを知る
    - HTML と似ているけど違う
    - HTML のコンテンツを JavaScript から操作できるオブジェクト
    - HTML 要素を取得したり、新しく HTML 要素を作成するメソッドがある
  - すべて覚える必要は無いが、location や querySelector, createElement など色んなプロパティやメソッ
    ドがあることを知る（必要になってから調べて覚えるで OK）
  - イベントを設定できる
    - click 時、ローディング時など色んなタイミングでイベントを起動させられる
    - addEventListener の使い方を知る（コールバック関数について把握している必要あり）

#### 非同期処理

- fetch も Window オブジェクトのメソッドの 1 つ
- 同期処理・非同期処理について知る
  - どういうときに使うのか
  - 普通に書いたらすべて同期処理
  - 非同期処理は実現方法がいくつかあるが、今は async await を用いるのが一般的。
- サーバーからデータ取得をする API
  - API という言葉は幅広く、色んなものがある
  - その中でもサーバーからデータ取得をするための API について学んでほしい
  - 基本は API を叩いて（API 経由でデータを取得して）、そのデータをブラウザで表示する
    - ザックリだが、バックエンドの仕事は API をつくること
    - フロントエンドの仕事は API を叩いてユーザーに見せること
  - 実際に API を叩いてみよう
    - 最初から自分で API を作るのは難しいのでオープンに公開されている API を叩く
    - 例えば、 https://jsonplaceholder.typicode.com など。
    - API を叩いて、そこから得られたデータを DOM を操作して、画面に表示できるようにする

## HTML・CSS・JavaScript を通しての所感

HTML・CSS・JavaScript はここらへんまで理解できたら OK だと考えている。あとは実践で必要になってググりながら学ぶので間に合う。

よく HTML や CSS の細かいところまで覚えたり、JavaScript だと DOM の色んなメソッドを覚える人がいるが、現代のフロントエンド開発において素の HTML や CSS、JavaScript を使うことは少なくなっているため、正直そういった細かい知識は使われないことが多い。

例えば React だと HTML の代わりに JSX という記法で表現したり、CSS は CSS フレームワークや CSS in JS などで管理する。また React や Vue、Angular には仮想 DOM という概念があり、開発者は基本的に仮想 DOM を触り、ブラウザが標準で用意している DOM を扱うことはほとんど無い。appendChild とか textContent とか全くと言っていいほど使わない。

大事なのは概念理解、HTML や CSS、JavaScript で何ができるのか、なぜ必要なのかを理解することである。JavaScript は色々できるが、基本的な仕事は「データのやり取りをすること」「（仮想）DOM を扱うこと」の 2 つと思っていただいて良い。基本構文・ブラウザの環境下で使えるオブェクト・非同期処理さえ、概ねの理解できたらサッと次に進もう。

また jQuery や Bootstrap は学ぶ必要ないです。現場で使われてたらそのときに覚えるで OK です。

## モジュール

### 概要

今まで JavaScript の名前空間は Window の 1 つしかありませんでした。名前空間が 1 つのせいで、変数名や関数名が被ったり、依存のあるコードが多くなって管理できずにバグを生み出していました。それを解決するのがモジュールという概念です。フロントエンド開発をするときにモジュールが無いのはありえない・・・ってぐらい重要です。

### 最低ライン

- モジュールとは何か知る
  - JavaScript におけるモジュールはファイル単位
    - 1 ファイル 1 モジュール
  - モジュールがあると何が嬉しいのか
    - 名前空間問題が解決される（Window 1 つからファイル単位へ）
    - 再利用性が高まる
    - ファイル単位で管理できるので保守性が高い
- 現在はモジュールには大きく 2 種類ある
  1. ES Modules (ESM) 形式
     - ECMAScript 標準なので、今後こちらが主流になる
     - フロントエンド開発を行うときも基本はこっち
     - この書き方はマスターする必要あり
  1. CommonJS (CJS) 形式
     - Node.js で使われてきた方式
     - だんだん ESM 形式に変わっていくと見られている
     - 必要になったタイミングで覚える
- ESM 形式の書き方
  - Named Import
    - 基本はこっちを使う
  - Default Import
  - All Import, Re-export, Side Effect を学ぶ

## CLI（コマンドラインインターフェース）

### 概要

CUI とも言います。エンジニアになるためにはコマンドライン操作は欠かせません。人間がポチポチやるより機械に任せたほうが良い操作はたくさんあります。また後述の npm でも必要になってくるので最低限は覚えましょう。

### 最低ライン

- シェルとは何かを知る
  - （人間の）命令をコンピュータに伝えるプログラム
  - bash, zsh, fish が有名
    - bash がデフォルトだけど zsh か fish が多い印象
    - fish はカスタマイズしなくても良い感じに色んな機能があるのでオススメ（私も使ってます）
- PC のディレクトリ構成を知る
  - OS によっても違いがある
  - root ディレクトリとは何か知る
  - home ディレクトリとは何か知る
  - 絶対パスと相対パスを知る
- 基本的なコマンドに慣れる
  - pwd（パス確認）
  - cd（移動）
  - ls（ディレクトリ内の階層を一覧表示）
  - touch（空のファイルを新規作成やタイムスタンプの操作など）
  - cp（ファイルやディレクトリのコピー）
  - mv（ファイルやディレクトリの移動）
  - rm（ファイルやディレクトリの削除）
  - mkdir（ディレクトリの新規作成）
  - rmdir（ディレクトリの削除）
  - cat（ファイルの内容の確認など）
- コマンドはオプションと一緒に使うことも多い
  - rm -r とすると今いる階層だけでなく下の階層まで処理する
  - オプションは必要になったタイミングでググって覚えるで OK
- コマンドは他にもたくさんあるが、必要に迫られたり、余力があるときに知識を蓄える必要あり
  - npm を学ぶ上ではいったん上記コマンドさえ分かれば問題なさそう

## npm

### 概要

コードを公開したり共有するときにパッケージ管理システム（npm or yarn）が使われます。今のフロントエンドでは自分で機能をイチから作るよりも第三者が公開しているパッケージを利用して作ることの方が多いです。

例えば画像のスライダーも自分で自作するより、既にあるパッケージを利用して実装します（もちろん自作できるぐらいのプログラミングスキルがある方が望ましいですね）。

パッケージを利用するために npm が必要なのでぜひマスターしましょう。

### 最低ライン

- npm と yarn について
  - どちらもパッケージ管理システム
  - yarn が後出で基本的には npm と互換性がある
  - ただしいくつかの点で yarn 推し
    - yarn upgrade-interactive という npm には無い便利コマンドがある
    - 純粋に yarn の方がパフォーマンスが良い
    - yarn の方がセキュアらしいですが、内容までは詳しく知りません
    - monorepo という技術があるのですが、それを使うときに yarn の方が便利（今は無視で OK です）
- npm, yarn のインストール方法
  - npm や yarn は Node.js を用いて動かしているので、Node.js 自体をまずは入れる必要がある。
  - Node.js は Node.js バージョン管理ツールで基本的にインストールする
  - NVM, n などが有名だが、最近出た VOLTA が個人的にオススメです
    - 公式: https://volta.sh/
    - セットアップが楽
    - めちゃくちゃ高速
    - クロスプラットフォーム（Windows でも動く）
    - プロジェクトごとのバージョン管理が楽
  - VOLTA を入れたら、Node.js と一緒に npm もインストールされる
    - あとは npm install -g yarn で yarn もインストールできる
- 基本的な使い方を学ぶ
  - package.json と CLI で管理する手法を学ぶ
    - パッケージのインストール方法や削除方法
      - npm i <パッケージ名>または yarn add <パッケージ名>
      - npm remove <パッケージ名>または yarn remove <パッケージ名>
    - package.json や package-lock.json（yarn だと yarn.lock）の見方を学ぶ
      - バージョンをアップさせるにはどうしたら良いか
      - セマンティックバージョニングを使ったバージョン指定に関するルールを知る
  - グローバルインストールとローカルインストールについて知る
    - なぜグローバルよりローカルインストールが好まれるのか
  - インストールしたパッケージの使い方を知る
    - node_modules 経由で読み込む
  - npm scripts でコマンドを使えるようにする
  - npx について
    - npx が npm や yarn とどう違うのか知る

## Babel

### 概要

ある構文の JavaScript を、別の構文の JavaScript に変換するツール。ES2015（当時は ES6 と呼ばれていた） が出たときに非常に便利な構文がたくさん出たのに、ブラウザの互換性がなかったため、便利な構文を使えなかった。ES6 を旧ブラウザで動くバージョン（ES5）に変換するのを目的として誕生した。そのため最初の名前は Babel ではなく 6to5 という名前だった。

そこから転じて、最新の便利な構文を色んなブラウザで動くように変換するだけではなく、通常だったらブラウザ上で動かないものも動くように変換するためにも使われるようになった。例えば React では JSX という HTML に似た記法でコードを書いていくが、これはブラウザ上では動かすことができない。その JSX をブラウザで動かすためにも用いられる。また最近では TypeScript も Babel を通じて他の変換作業と一緒に JavaScript に変換することが多い。

React や TypeScript を学んでいく上では概念理解は避けては通れないが、正直一から自分で書く必要は無い。というのも Next.js や Create React App でプロジェクトを作る場合が多く、そのときは Babel は隠蔽されてて開発者が意識することはほとんど無いからだ。ただしプロジェクトによっては Babel の設定ファイルを自分で書いたりする必要があるので、急に名前を見ても驚かないようにするために概念だけは抑えておこう。

### 最低ライン

- Babel とは何かを学ぶ
  - 上記説明だけで理解できない場合は公式を見たり、ググったりしながら理解を深める
  - Babel で一度ある JavaScript を、別の JavaScript に変換して感覚を掴んでもらう

Babel は概念理解が重要なのでそれだけで OK です。

## webpack

### 概要

従来 JavaScript にモジュールという機能はなく、Node.js が誕生した際にモジュールの概念が生まれた。Node.js はドンドン進化してモジュールを活用した便利なパッケージが生まれたが、Node.js とブラウザの JavaScript の環境は違うため、Node.js のパッケージをそのままブラウザで使用することができなかった。それをできるようにしているのが webpack。

それが歴史ではあるが、今となっては Node.js のパッケージを使えるようにするだけではなく、色んなものを一緒に変換したり、変換時に便利な機能を追加できるようになった。例えばスタイルシートや画像ファイルも JavaScript 上で扱いやすくするために変換できるし、変換と同時に Tree Shaking（不要なコードの削除）や minify（圧縮）を行ってサイズを減らすことができる。

また webpack のローカル開発環境を立ち上げ＋ホットリロードという機能を用いることで、「コードを書く → 手動で変換 → 確認」という流れから「コードを書く → 自動変換 → 確認」という流れになり、開発が非常に容易になった。

他にも依存関係の解決を行ってくれる。開発者が依存関係を把握しながらコードを書くことは現実的ではないので、webpack を用いて自動的に解決を行う。

・・・という感じで webpack は正直あまりにもできることが多い。概念理解が最も難しく、一気にすべてを理解することは不可能（私もすべて知っているわけではない）なので、最低限必要な部分を覚える必要がある。

こちらも Babel と同じく Next.js や Create React App の存在で設定ファイルを自分で一から記述することは少なくなった。ただしプロジェクトによっては一から設定ファイルを書いているところもあるので、ある程度は概念理解をし、必要になったタイミングですぐにググって設定ファイルを書けるようにする必要がある。

### 最低ライン

- webpack が必要な理由を知る
  - CJS 形式やその他のブラウザで動かないパッケージをブラウザで実行可能にする
  - パッケージ同士の依存関係を自動解決してくれる
  - 画像・フォント・スタイルシートなどを JavaScript で扱えるようにする
  - Tree Shaking（不要なコードの削除）や minify でサイズ圧縮ができる
  - ローカルサーバーを立ち上げ開発環境を作ることができる
  - Babel などと一緒に用いて、最新の ES や TypeScript なども変換できる
  - その他、変換時に何かしたければ何でもできる
- かんたんな例で、webpack を実際に自分の手元で試してみて感覚を掴む

webpack も概念理解が重要なので一旦それだけで OK です。

## ESLint

### 概要

プロジェクトのコードを書いている段階で、問題となるコードを教えてくれたり、書き方のスタイルを統一するために指摘してくれるもの。チーム内で書き方を統一するのは非常に大事で、しっかりと統一することでコードが読みやすくなり運用コストも下がる。

ESLint は「自動修正」や「独自カスタマイズ」もできる。前者の「自動修正」は、エディターで保存したときやコマンドライン上からコードを自動で整形できるというもの。Prettier と被る部分もあり、その話に関しては次の Prettier の項目で触れるのでここでは割愛。

後者の「独自カスタマイズ」は自分でルールを書いて（設定項目を追加して）、好きなように指摘してくれるようにできるというもの。例えば JavaScript には関数宣言（function の構文）やアロー関数があるが、ルール次第で function に統一できたりアロー関数に統一できたりする。ルールを 1 から自分で書くこともできるし、第三者が公開した既にあるルールをベースに進めることも可能だ。

また ESLint はその名の通り、ES（ECMAScript）が基本だ。TypeScript でコードを書く場合は、昔は TSLint というのを使っていたが、最近統合されて、TypeScript のルールも ESLint で扱えるようになったので覚えておこう。調べていく中で TSLint が出てきたら無視で OK だ。

1 つ 1 つルールを覚えていく必要はない。ESLint は何なのかを実際に動かして確かめ、どういう風に ESLint を設定するのか覚えることと、ルールの追加はどうすればできるのかを学ぶことが重要だ。

### 最低ライン

- まずは動かしてみる
  - eslint の設定ファイルを作る
  - セミコロンとかクォーテーションのルールを追加する
  - わざとそのルールに沿っていない JS ファイルを書く
  - `eslint [そのJSファイル]` を試してみる
  - おそらくエラー文が出るのでこんな感じで指摘してくれるのか、と知る
  - `eslint --fix [そのJSファイル]` で自動整形してくれるのも実感する
  - .eslintignore で特定のファイルを無視できることも試してみる
- VSCode 上で実感する
  - [VSCode の拡張機能](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint)を入れる
  - VSCode 上で間違った構文を書くと指摘してくれることを知る
  - VSCode で保存をしたときに自動整形してくれるように VSCode の設定をいじる
    - 具体的には settings.json で、下記のような記述でいけるはず
      ```json
      "editor.codeActionsOnSave": {
        "source.fixAll.eslint": true
      },
      ```
  - もし今後 VSCode 上で ESLing が動かなくなったら VSCode の設定も疑ってみよう
- 設定項目を知る
  - 最初は理解できない項目だらけだと思うが、そこは理解できないまま進んでも問題ない。私もフワッとした理解のまま進めているところある。
  - ここだけは大事だというのが rules と extends と plugins
  - rules で色んな設定をできるが、ルールが数百種類あって、1 つ 1 つ設定していたら大変
  - そこで extends を使う。extends で既にあるルールを一気に適用でき、rules が膨らまなくてすむ
    - extends には ESLint が最初から入ってるものがあり、それが eslint:recommended だ。それを入れるだけで、[こちらのルール](https://github.com/eslint/eslint/blob/master/conf/eslint-recommended.js)が追加される。
    - extends で自動追加されたものは、自分で rules を追加して上書きもできる
    - plugins はそもそもの rules を追加できるもの。extends は最初からあるルールを一気に適用させるもの。
      - 例えば [eslint-plugin-react-hooks](https://www.npmjs.com/package/eslint-plugin-react-hooks) を使いたい場合、plugins に react-hooks を指定することにより、rules で react-hooks の指定ができるようになる
    - extends と plugins の落とし穴
      - plugins で指定しなくても plugins の rules を有効にすることができるものもある
      - plugins によっては extends で指定して自分で rules を書かなくとも有効にできるものもある
      - ここはややこしいので最初の段階で覚える必要がないが、私が最初に「？？」ってなったところなので書いた。

## Prettier

### 概要

Prettier はコードフォーマッター。ESLint と被って非常にややこしいが、Prettier はコードを整形することに特化している。ESLint は主に「フォーマットに関するルール」「コードの品質に関するルール」を扱うが、Prettier が扱うのは前者のフォーマットに関することのみ。後者には触れない。

ESLint で良くない？と思われるかもしれないが、ESLint だけでは整形できない部分もある。ESLint がカバーできない部分を Prettier が担うという形だ。ちなみに Prettier は JavaScript に限らず、Java, PHP, Ruby とかも対応している。

ESLint ほど多くはないが、Prettier も設定でお好みにカスタマイズできる。こちらも概要を掴み、自分で設定をして使えるようになろう。

### 最低ライン

- まずは動かしてみる
  - [公式の Playground](https://prettier.io/playground/)を使うのが早い
    - 左側で文を書いたら右側に Prettier 後のコードが表示される
    - これを VSCode で保存時に走らせられれば OK
- VSCode 上で実感する
  - [VSCode の拡張機能](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode)を入れる
  - VSCode で保存をしたときに自動整形してくれるように VSCode の設定をいじる
    - 具体的には settings.json で、下記のような記述でいけるはず
      ```json
        "editor.formatOnSave": true,
        "editor.defaultFormatter": "esbenp.prettier-vscode",
      ```
    - 保存時に format をする設定と、デフォルトのフォーマッターを Prettier にする設定だ
    - これで VSCode 上で Prettier に沿っていない書き方をして保存したら自動で整形されるはず
- 設定しよう
  - Prettier も設定を変更できる
    - 例えばクォーテーションのデフォルトはダブルだが、シングルにもできる
    - .prettierrc で行ったり、package.json で行ったり色々と設定方法があるので、お好きな方を使う。
  - 特定のファイルを無視することもできる
    - .prettierignore を作って実際に無視されるか試してみよう
- ESLint とあわせて動かそう
  - Prettier とかぶる設定項目を ESLint から削除しよう
    - 例えばクォーテーションの設定項目が被る。そういったものを一括で削除する [eslint-config-prettier](https://github.com/prettier/eslint-config-prettier) というものがあるので使う。
    - eslint-config-prettier をインストールし、extends に prettier を追加する
  - というような感じで ESLint と Prettier の設定はややこしかったりする
    - 全部覚える必要はないが、こちらも私が最初に躓いたところなので載せておく
    - ちなみにここ 1 年で大きく設定方法が変わっているので、数ヶ月に一度、自分の設定方法が正しいか確かめることをオススメする
    - このロードマップも適宜更新するが、常に最新とは限らないので注意。

## React

### 概要

React は UI を構築するためのフレームワークで、React を使いこなすことでパフォーマンスとメンテナンス性が高いアプリケーションを構築できる。React を覚えたら素の JavaScript で UI を構築することはほぼ無くなる。私もここ数年は素の JavaScript を使って UI を構築したことはないし、今後も使おうとは思わない。React を使えるようになると、2 度と素の JavaScript には戻れないというぐらいオススメだ。

React を学ぶ上でまず先に伝えたいことがある。それは「2 つの概念」「3 つのメリット」「覚えなくて良いもの」だ。

- 2 つの概念
  1. 仮想 DOM
  1. イミュータブル
- 3 つのメリット
  1. 宣言的な View
  1. コンポーネントベース
  1. 一度学習すれば、どこでも使える
- 覚えなくて良いもの
  - クラスコンポーネント

#### 仮想 DOM

React の理解にはまずは仮想 DOM の概念を理解することが大事。今まで JavaScript で実際の DOM を操作（append, querySelector など）してきたが、その DOM と仮想 DOM は違う（区別をするために今まで触っていた DOM を「リアル DOM」と名付ける）。リアル DOM は実際にあるものだが、仮想 DOM は実際にあるものではなくあくまで考え方の話。ちなみに言葉が似ている ShadowDOM はまた別の話なので混同しないように注意。仮想 DOM は英語では Virtual DOM 。

仮想 DOM は、まずはリアル DOM と同じようなものを JavaScript で再現し、後でリアル DOM へと変換される。何かしらイベントなどで DOM に変更があった場合、リアル DOM の場合は全体を再構築し直すのでレンダリングコストが高くなるが、仮想 DOM の場合は変更点だけを再構築するのでレンダリングコストが低い。具体的には差分検出といった仕組みがあるのだが、文面だけで最初に理解してもらうには相当難しいので一旦控える。とりあえず仮想 DOM はリアル DOM と比べてパフォーマンスが落ちにくいことを覚えて欲しい。

**仮想 DOM の世界ではリアル DOM の操作をしてはいけない。** つまり今まで JavaScript で当たり前に行っていた DOM 操作（append, querySelector など）は混合させないように注意が必要だ。せっかく仮想 DOM の世界で良いように動かしていたのに、そこにリアル DOM がくるとすべてが崩れる。酢豚にパインを混ぜるようなものだ。酢豚で完成されているのだからパインを混ぜて台無しにするようなことは絶対に控えて欲しい。

React だけでなく Vue, Angular なども仮想 DOM の概念を用いて作られている。

#### イミュータブル

ミュータブルは「変更可能」な変数の型を指し、JavaScript では配列とオブジェクトがミュータブルだ。イミュータブルはその反対の意味で「不変」という意味だ。オブジェクトや配列の値は const で宣言しても後から容易に変更できる。例えばこちらのコードを見て欲しい。

```js
const obj1 = { foo: 1 };
const obj2 = obj1;
obj2.foo = 2;
console.log(obj1, obj2); // -> { foo: 2 }, { foo: 2 } obj1さん!?!?!?
```

obj1 は const で宣言してるから変わらないで欲しい。理由は色々あるが個人的に 1 番大きいのは予測しづらいからだと考えている。これをイミュータブルに書き換えると下記のようになる。

```js
const obj1 = { foo: 1 };
const obj2 = { ...obj1 };
obj2.foo = 2;
console.log(obj1, obj2); // -> { foo: 1 }, { foo: 2 } OK!!
```

2 行目でスプレッド構文を用いているが、こうすることで obj1 をコピーすることができる。ちなみに 3 行目の処理は冗長なので本当だったらこう書く。

```js
const obj1 = { foo: 1 };
const obj2 = { ...obj1, foo: 2 };
console.log(obj1, obj2); // -> { foo: 1 }, { foo: 2 } OK!!
```

ここでの深い説明は控えるがとにかくうまく動いている。詳しくはスプレッド構文で調べてほしい。非常に多用する構文だ。

**昨今の JavaScript においてはイミュータブルが求められている。** 配列やオブジェクトを今までの知識で扱っていたらミュータブルになってしまうので、配列やオブジェクトを扱う際は注意が必要だ。イミュータブルを保つための書き方はいくつかあって最初はクセに感じると思うので、積極的に使っていって慣れてほしい。最初は分かりにくいが意外と重要なことなので頭の片隅に入れておこう。

#### ① 宣言的な View

宣言的の対義語は命令的で、今まで JavaScript や jQuery で行ってきた操作はすべて命令的だ。

**宣言的な View では、View（見た目）を書くときに最終どういう見た目になるかだけを記述する。** 命令的な View では、見た目がどう移り変わっていくかを記述する。React の主要開発者の人もこう述べている。

> よく人は「すべては過程だ。結果ではない」と言います。ですが、 React の場合は逆です。全ては結果であり、過程ではありません。

過程を書くことは相当に辛い。開発者が意識したいのは最後の結果だけで、そこに至るまでどう View が変化していったかのプロセスは意識するべきではない。

この話も最初はきっと伝わらない。ただし React を学ぶ上で時折立ち返って欲しい。この記述をもし素の JavaScript でやっていたらどうなっていたのかと。今までこんな面倒な作業をやっていたのかと絶望するはずだ。それを感じるだけで React をもっと頑張ろうと思えるだろう。

#### ② コンポーネントベース

一度書いたものは使いまわしたいと誰もが思う。各ページに毎回同じヘッダー・フッターを書くのは馬鹿げていると思わないか？それを今までやっていたのだ。コンポーネントベースで作り上げると、それを使い回すのが簡単になる。

またコンポーネントにはスコープを狭められるというメリットもある。コンポーネント内に状態やロジックを閉じこめることによって、その他のコンポーネントへの影響を防ぐことができる。

コンポーネントベースはおそらく理解しやすく、書いていけばすぐに実感できるはずだ。

#### ③ 一度学習すれば、どこでも使える

「Learn Once, Write Anywhere」と言われている概念だ。

React の書き方を覚えるとどこでも使えるという話で、一番ピンとくるのは React Native だろう。React を覚えてしまえば、React Native アプリは比較的容易に書くことができる。

公式には下記のように書かれている。サーバの話は最初は理解が難しいと思うが、SSR や SSG のためにも動くという認識で良い。

> React は Node を使ったサーバ上でもレンダーできますし、React Native を使うことでモバイルアプリケーションの中でも動きます。

#### クラスコンポーネント

React のコンポーネントは大きく分けて 2 つで、関数コンポーネントとクラスコンポーネントがあるが、クラスコンポーネントはいったん忘れて構わない。忘れて構わないものがなぜまだ存在するのかというと、もともと関数コンポーネントがなかったからというのと、現状クラスコンポーネントでしか実現できないことがあるからだ。

前者の話でいうと、関数コンポーネントは後から生まれたもので、それ以前はクラスコンポーネントで組み立てていた。そのときのコードがまだ動いているプロジェクトは当然あるし、急にドキュメントから全削除するわけにもいかない。だから今もドキュメントに残っているが、いったん初学者は無視して構わない。基本的にクラスコンポーネントを使ったら負けと思って欲しい。クラスコンポーネントにはみんなの嫌いな this もある。

後者の話だが、まだクラスコンポーネントでしか実現できないことが私が知る限り 2 つ残っている。1 つが [Error Boundary](https://ja.reactjs.org/docs/error-boundaries.html) で、エラーハンドリング（エラーが起きたときの対応）をするときに使うものだ。もう 1 つが [getDerivedStateFromProps](https://ja.reactjs.org/docs/react-component.html#static-getderivedstatefromprops) を使うときだが、こっちは最初は完全無視で良い。公式にもまれな使用例と書かれているほどで、使う機会はほぼ無い。この 2 つ以外の用途ではすべて関数コンポーネントを使おう。

もう一度言うが基本的にクラスコンポーネントを使ったら負けだ。関数コンポーネントが分かりやすいだけでなくパフォーマンスも良い。クラスコンポーネントを使う理由はほとんどない。

### 最低ライン

- とりあえず環境構築をしよう
  - [Create React App](https://github.com/facebook/create-react-app#create-react-app) という Facebook 公式が用意しているものがあるので使おう
- React は JSX という記述で書いていくことを知る。
  - HTML と似ているがちょっと違う。クセはあるが正直すぐ覚えられる。
  - 関数コンポーネントで、コンポーネントを作れると知る。
- コンポーネントが木構造になり View が構築されていることを知る。
  - コンポーネントから、別のコンポーネントを呼び出せる。
    - それが何層も組み合わさって View ができていく。
  - JSX の各要素の style 属性を記述することで装飾できる
    - 最終的には style 属性は使わなくなる可能性が高いことだけ覚えておいて欲しい。
    - あとからスタイリングのための便利なものがたくさん出てくるが、まずは style だけで良い。
  - 最初は props とか state とか忘れて、ただただコンポーネントから別のコンポーネントを呼び出して見た目を作っていこう
- props を学ぶ
  - View が木構造で構築されていることを知ったら、次は props だ。
  - 簡単に言うと、親から子に対して好きなデータを渡せるもの。
  - 大事なのが props の値は勝手に変更してはならない。
    - 公式にも Props は読み取り専用と書いているので気をつけて。
  - 親から子コンポーネントを呼ぶ際に props を使って表示を変えてみよう。
- state を学ぶ
  - state はコンポーネントを再レンダリングさせることができる
  - state を直接変更しないこと
    - useState を使って適切に管理しよう
  - state でコンポーネントが再レンダリングされていることを確認しよう。
- 条件付きレンダーを学ぶ
  - ある条件下では A コンポーネントを、もう一方では B コンポーネントを表示させたい場合など。
  - if 文を用いて分ける場合もあれば、JSX 内にインラインで条件演算子を用いる場合もある。
    - インラインでのコンポーネント出し分けはちょっとクセがあるので、この書き方は早めに慣れたい。
- フォーム
  - 実際に開発を行うとなるとだいたいフォームというものを実装する必要がある。React を使うとどのような形で実現するのか学んで欲しい。
  - React でフォームを作るには大きく 2 パターンあって、制御パターンと非制御パターンがある
    - とりあえずは制御パターンだけでいいが、一応もう 1 つがあることだけ頭においててほしい
    - フォームはサードパーティのライブラリを使うこともある。必ずしもこの書き方ではないと知っていて欲しい。
- useEffect を学ぶ
  - 基本は props と state でいいがそれだけで完結できないものが出てくる
    - 具体的に公式に書かれているものは「DOM の書き換え、データの購読、タイマー、ロギング」がある。他にもある。
  - そういった副作用（関数の外に影響を与えうるもの）は、useEffect を使って処理する
  - かつてはライフサイクル（コンポーネントが生まれてから消えるまで）で処理していたものだが、関数コンポーネントができてからは useEffect で処理するようになった
  - 最初の関門と思って心して学んで欲しい。難しいと感じる部分もあるだろうが絶対に理解しないといけない部分だ。
- Context を学ぶ
  - 親から props を子に渡すことは分かったと思うが、孫に渡したい場合はどうするか考えて欲しい
    - 孫ならマシだが、10 階層も下のコンポーネントに props を渡したい場合はどうする？
    - props をずっと渡し続けるのは記述的にも無駄が多くなる。そういうときに Context だ。
  - React の公式に書いてある
    > 典型的な React アプリケーションでは、データは props を通してトップダウン（親から子）で渡されますが、アプリケーション内の多くのコンポーネントから必要とされる特定のタイプのプロパティ（例： ロケール設定、UI テーマ）にとっては面倒です。コンテクストはツリーの各階層で明示的にプロパティを渡すことなく、コンポーネント間でこれらの様な値を共有する方法を提供します。
    - ロケール設定は英語か日本語か、UI テーマはダークモードかそうでないか。
    - 多くのコンポーネントで使うようなものは、Context を使って効率的にデータを渡せという話。
  - データを受け取る側のコンポーネントでは useContext というものが存在するので、そちらを使おう。
- フック
  - 先ほど useState や useEffect というものが出てきたが、それ以外にも use○○ というものが存在する
    - 絶対に完全理解すべきは useState, useEffect, useContext の 3 つ。これは使いこなせないと話にならない。
    - 次点で useReducer, useCallback, useMemo, useRef だが、とりあえずは上の 3 つ。そっちの完全理解が先。
    - それら以外はいったん無視で良い。必要になってから使うもの。
  - カスタムフックを作る
    - React が用意しているフックだけでなく、自分で組み合わせて作ることもできる
    - カスタムフックを作れるようになると一気にコードの可読性が上がる
    - ぜひ[公式を参考](https://ja.reactjs.org/docs/hooks-custom.html)に、カスタムフックを理解しよう。
- サードパーティのライブラリを何か使ってみる
  - 実際の開発では React だけで完結することは少なく、サードパーティのライブラリを用いることが多い。
  - 自身の環境にサードパーティのライブラリをインストールして実際に使ってみて欲しい。例えば下記が有名だ。
    - [Styled Components](https://styled-components.com/) CSS in JS の 1 つで、コンポーネント単位でスタイリングできる
    - [react-hook-form](https://react-hook-form.com/jp/) フォームライブラリで、簡単にパフォーマンスの良いフォームを作れる
  - 他にも無数にあるが正直何でも良い。とりあえずこうやって外部ライブラリを組み込むのかという流れを知ってほしい。

状態管理（Redux や Mobx, Recoil など）に関しては最初のうちに手を出す必要はないと考えている。理由は純粋に初学者にとって理解が難しいのと、大規模アプリケーションじゃないと効果を大きく実感できないと考えているから。あとは Redux が最も使われているが、将来的にも使われるかと言うと結構怪しいと考えていて、これから大きく状態管理の手法が変わるような気がする。あくまで予想だが...。なので今は必須ではない。状態管理に深く手を出そうとするぐらいなら、Next.js や TypeScript を学んだり、React 自体の理解を深めていったほうがいい。

いったんは以上だ。細かい部分で知ってほしいことは他にも色々とあるが、まずは全体感を掴んで欲しい。そこから必要になったものを自分の環境に取り込もう。一度全体感が分かれば、後で公式を見返すときも概ね理解できるようになっているはずだ。

## Next.js

### 概要

今最も熱いと私が思っているフレームワーク。React だけで実際にアプリケーション開発しようとすると面倒な部分が出てくるが、それを引き受けてくれる。ルーティング、Prefetch、CSS Modules、SSR・SSG、Webpack 設定最適化、画像最適化、、、他にも本当にたくさんあるが、これらを React で自前で実装しようとするのはハッキリ言って無謀である。こういった面倒な部分はフレームワーク側で解決されるべきというのが現状の Web 開発における最適解だ。

React のフレームワークでは現状は Next.js か Gatsby の 2 強だが、ブログはともかく少なくともアプリケーション開発において Gatsby を採用しているところはほとんど聞かないので、素直に Next.js を学んでいたほうがいい。実際にアプリケーション開発となると Next.js の方が自由度が高く、また Gatsby の場合はフレームワーク特有の知識で覚えないといけないことが Next.js と比べて多いらしい。使ったわけではなく調べた程度。ここは私を信じて Next.js を学んで欲しい。

まとめると現状の React のアプリケーション開発においては Next.js 一択なのである。

### 最低ライン

- [Next.js のチュートリアル](https://nextjs.org/learn/basics/create-nextjs-app)を学ぶ
  - このチュートリアルは相当によくできているので、ぜひ使ってほしい。
    - Qin 限定で私と一緒にチュートリアルをする動画もあるので、よかったら参考に。
  - 有志が[日本語訳](https://qiita.com/thesugar/items/01896c1faa8241e6b1bc)も出しているので、そちらでも良い
    - ただしこちらは最新かどうかは分からないので、可能であればやはり公式を準拠して欲しい。
  - このチュートリアルを学ぶだけで、Next.js の機能の 70% ぐらいは網羅できる。
    - そしてその 70%ぐらいが理解できていれば実際のアプリケーション開発にも入れる。
- チュートリアルには難しいところと不要な部分があるのであらかじめ伝える
  - [Styling Tips](https://nextjs.org/learn/basics/assets-metadata-css/styling-tips) はいったん飛ばしていい
    - classnames はメンテされていないので、今は同じような機能を持つ clsx がオススメ。
    - PostCSS もいったん Next.js とは別の話になるので無視して OK。必要になってから学ぼう。
  - SG(=SSG), SSR の完全理解
    - ここは大事なんだけど最初はやっぱり難しいところがある。
      - 私も動画を挙げているのでそちらを参考にしてほしい。
    - どうしても理解が厳しい場合、いったん理解は後回しでとりあえず進めて OK。
      - まずは Next.js で作れるようになることが目標。SG と SSR がなくても大体のアプリケーションは作れる。
- ブログのデータを用意している部分は深く理解しなくても良い。
  - 簡単に言うとマークダウンファイルを用意して、ブログのデータを作っているだけ。
    - Node.js の知識でゴリゴリデータを用意しているので、最初はとっつきづらい。
    - とにかくデータを用意しているんだな〜と最初は思っていてもらえると。
    - 実際にチュートリアルのようにファイルシステム（ファイルを参照する仕組み）をデータソースにする場合は稀。
    - 実際のアプリケーション開発ではバックエンドが API を用意して、それを使うパターンが多い。
- [API Routes](https://nextjs.org/learn/basics/api-routes)
  - API Routes は簡単なサーバーを立てられるもの
    - ちょっと API を叩きたいときとかに便利
    - わざわざ自分でサーバー立てるより Next.js の API Routes を用いたほうが圧倒的に楽。
    - [Next.js 公式ブログ](https://nextjs.org/blog/forms)にもあるが、フォーム処理とかで便利。
  - ただ最初の段階でめちゃくちゃ使うかと言うとそこまでな部分もある。
    - 具体的なアプリケーション開発に入らないと理解が難しいかと思うので、ここも完全理解するのは後回しで良い。

以上だ。Next.js はチュートリアルが題材的にもかなり良いので、まずはチュートリアルで学んでいこう。React→Next.js で勉強したら分かるが、React が SPA（Single Page Application）なのに対して、Next.js は pages を作ってサイトを構築していくいわゆる従来型の開発だ。SPA はルーティング周りで初心者が躓く。ルーティングは高確率で挫折するポイントだが Next.js にはその辛みがない。実際のアプリケーション開発でも React を採用する = Next.js を採用することが多くなっているので、わざわざ自分から難しいもので苦しむ必要はない。

Next.js が理解できたら実際に何か作ってみるのが良い。例えばチュートリアルのブログを、自分用にアレンジしてカスタマイズしてみたり、styled-components や TailwindCSS、ChakraUI などのライブラリを入れてスタイリングしてみたり、データソースとしてマークダウンファイルを使っている部分をヘッドレス CMS（ブログの管理画面だけ提供しているもので、API を用いて見た目は自分でつくる）に置き換えてみたり、とにかく何でも良いので Next.js で作ってみてほしい。

チュートリアル最後の部分であるように Next.js は Vercel で簡単にデプロイできる。「作って皆が見られるようにする」というのが本当に簡単なのでモチベーションも上がると思う。ぜひアウトプットしていこう！

## TypeScript

### 概要

### 最低ライン
